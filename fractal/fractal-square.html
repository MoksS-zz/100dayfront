<!doctype html>
<html>
    <head>
        <title>Canvas</title>
        <meta charset='utf-8' />
    </head>
    <body>
        <canvas id='test' height='1200' width='1200'>Текст показывается, если элемент не поддерживается</canvas>
        <script type="text/javascript">
            var canvas  = document.getElementById("test");
            var ctx     = canvas.getContext('2d');

			function mat_square(x0, y0, l) {
                var l2 = Math.round(l / 3);
                if ( l2 < 3 ){
                    ctx.strokeRect(x0 + l2, y0 + l2, l2, l2);
                    return;
                }
                for ( var i = 0; i<=2 ; i++ ){
                    for ( var j = 0; j <= 2; j++ ){
                        if ( i == 1 && j ==1 ){
                            continue;
                        } else {
                            mat_square( x0 + i*l2, y0 + j*l2, l2);
                        }
                    }
                }
            }

            // ctx.strokeRect(0, 0, canvas.width, canvas.height);
            mat_square( 0, 0, 1200 );
        </script>
    </body>
</html>
